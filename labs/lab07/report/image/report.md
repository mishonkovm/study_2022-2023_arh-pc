---
## Front matter
title: "Отчёт по лабораторной работе №7"
subtitle: "*дисциплина: Архитектура компьютера*"
author: "Максим Александрович Мишонков"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Целью данной лабораторной работы является освоение арифметических инструкций языка ассемблера NASM.

# Задание

Освоить арифметические инструкции языка ассемблера NASM.

# Теоретическое введение

Большинство инструкций на языке ассемблера требуют обработки операндов. Адрес операнда предоставляет место, где хранятся данные, подлежащие обработке. Это могут быть данные, хранящиеся в регистре или в ячейке памяти. 

Существует три основных способа адресации:

**Регистровая адресация** – операнды хранятся в регистрах, и в команде используются имена этих регистров. Например: mov ax,bx.

**Непосредственная адресация** – значение операнда задается непосредственно в команде. Например, mov ax,2.

**Адресация памяти** – операнд задает адрес в памяти. В команде указывается символическое обозначение ячейки памяти, над содержимым которой требуется выполнить операцию

# Выполнение лабораторной работы

1. Создал каталог для программам лабораторной работы №7, перешёл в него и создал файл lab7-1.asm. (рис. [-@fig:001])

![Создание каталога и файла](image/Рис.1.png){ #fig:001 width=70% }

2. Ввёл в файл lab7-1.asm текст программы из листинга 7.1. (рис. [-@fig:002])

![Введение текста программы](image/Рис.2.png){ #fig:002 width=70% }

3. Создал исполняемый файл и запустил его. Программа вывела символ j. (рис. [-@fig:003])

![Проверка работы исполняемого файла](image/Рис.3.png){ #fig:003 width=70% }

4. Изменил текст программы, вместо символов записав в регистры числа. (рис. [-@fig:004])

![Изменение текста программы](image/Рис.4.png){ #fig:004 width=70% }

5. Создал исполняемый файл и запустил его. Программа вывела невидимый символ с кодом 10. (рис. [-@fig:005])

![Проверка работы исполняемого файла](image/Рис.5.png){ #fig:005 width=70% }

6. Создал файл lab7-2.asm в каталоге lab07 и ввёл в него текст программы из листинга 7.2. (рис. [-@fig:006], [-@fig:007])

![Создание файла](image/Рис.6.png){ #fig:006 width=70% }

![Введение текста программы](image/Рис.7.png){ #fig:007 width=70% }

7. Создал исполняемый файл и запустил его. Программа вывела число 106. (рис. [-@fig:008])

![Проверка работы исполняемого файла](image/Рис.8.png){ #fig:008 width=70% }

8. Изменил текст программы, вместо символов записав в регистры числа. (рис. [-@fig:009])

![Изменение текста программы](image/Рис.9.png){ #fig:009 width=70% }

9. Создал исполняемый файл и запустил его. Программа вывела число 10. (рис. [-@fig:010])

![Проверка работы исполняемого файла](image/Рис.10.png){ #fig:010 width=70% }

10. Заменил в тексте программы функцию iprintLF на iprint. (рис. [-@fig:011])

![Изменение текста программы](image/Рис.11.png){ #fig:011 width=70% } 

11. Создал исполняемый файл и запустил его. Результат отличается в выводе данных: при команде iprintLF мы начинаем вводить команду на следующей строке, а при использовании команды iprint мы вводим данные на той же строке. (рис. [-@fig:012])

![Проверка работы исполняемого файла](image/Рис.12.png){ #fig:012 width=70% }

12. Создал файл lab7-3.asm в каталоге lab07. (рис. [-@fig:013])

![Создание файла](image/Рис.13.png){ #fig:013 width=70% }

13. Ввёл в lab7-3.asm. текст программы из листинга 7.3. (рис. [-@fig:014])

![Введение текста программы](image/Рис.14.png){ #fig:014 width=70% }

14. Создал исполняемый файл и проверил его работу. (рис. [-@fig:015])

![Проверка работы исполняемого файла](image/Рис.15.png){ #fig:015 width=70% }

15. Изменил текст программы для вычисления выражения данного выражения. Создал исполняемый файл и проверил его работу. (рис. [-@fig:016], [-@fig:017])

![Изменение текста программы](image/Рис.16.png){ #fig:016 width=70% } 

![Проверка работы исполняемого файла](image/Рис.17.png){ #fig:017 width=70% }

16. Создал файл variant.asm в каталоге lab07 и ввёл в него текст программы из листинга 7.4. (рис. [-@fig:018], [-@fig:019])

![Создание файла](image/Рис.18.png){ #fig:018 width=70% }

![Введение текста программы](image/Рис.19.png){ #fig:019 width=70% }

17. Проверив работу исполняемого файла, я ввёл номер моего студенческого билета. Программа вывела ответ 14. Я проверил это аналитически, ответ совпал. (рис. [-@fig:020])

![Проверка работы исполняемого файла](image/Рис.20.png){ #fig:020 width=70% }

**Вопросы**

1. Какие строки из листинга 7.4 отвечают за вывод на экран сообщения 'Ваш вариант:'?

Строки mov eax, rem call sprint.

2. Для чего используются инструкции nasm "mov ecx, x", "mov edx, 80", "call sread"?

Инструкция "mov ecx, x" записывает адресы выводимого сообщения в 'EAX'
Инструкция "mov edx, 80" записывает длину вводимого сообщения в 'EBX'
Инструкция "call sread" выполняет вызов программы ввода сообщений.

3. Для чего используется инструкция "call atoi"?

Эта инструкция используется для преобразования кода переменной ASCII в число.

4. Какие строки из листинга 7.4 отвечают за вычисления варианта?

Строки xor edx, edx mov ebx, 20 div ebx, inc edx.

5. В какой регистр записывается остаток от деления при выполнении инструкции "div ebx"?

В регистр ebx.

6. Для чего используется инструкция "inc edx"?

Эта инструкция используется для увеличения значения edx на единицу.

7. Какие строки из листинга 7.4 отвечают за вывод на экран результата вычислений?

Строки mov eax, edx call iprintLF.


**Самостоятельная работа**

1. Создал файл, в котором буду писать программу. (рис. [-@fig:021])

![Создание файла](image/Рис.21.png){ #fig:021 width=70% }

2. Написал программу, которая будет решать выражение и выводить ответ при разных значениях переменной x. Так как в пункте 17 программа выдала 14 вариант, программу я писал для выражения из списка, соотвествующее варианту 14. (рис. [-@fig:022,], [-@fig:023])

![Написание текста программы](image/Рис.22.png){ #fig:022 width=70% }

![Написание текста программы](image/Рис.23.png){ #fig:023 width=70% }

3. Проверил результат работы этой программы. Стоит отметить, что так как при выполнении деления программа в качестве результата использует целую часть, то в первом случае дробь 1/2 округляется до 0, следовательно, был получен ответ 24, а не 25. (рис. [-@fig:024])

![Проверка работы программы](image/Рис.24.png){ #fig:024 width=70% }

# Выводы

В ходе выполнения данной лаборатопрной работы я освоил арифметические инструкции языка ассемблера NASM. 



